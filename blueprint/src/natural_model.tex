In this section we describe the categorical semantics of
HoTT via Natural Models.
This will not be a detailed account of the syntax of HoTT,
but will be a detailed account of what is needed to interpret such syntax.
It will follow \cite{awodey2017naturalmodelshomotopytype},
but with a more compact description of identity types
using the technology of polynomial endofunctors,
and a universe of small types.

\medskip

\begin{notation*}
  We will have two universe sizes - one small and one large.
  We denote the category of small sets as $\set$ and the large sets as $\Set$.
  For example, we could take the small sets $\set$ to be those in $\Set$ bounded in cardinality
  by some inaccessible cardinal.
\end{notation*}

\subsection{Types}

% Assume an inaccessible cardinal $\lambda$. Write $\Set$ for the category of all sets. Say that a set $A$ is $\lambda$-small if $|A| < \lambda$.  Write $\Set_\lambda$ for the full
% subcategory of $\Set$ spanned by  $\lambda$-small sets.

Let $\catC$ be a locally small category, i.e.~a category whose class of objects is a $\Set$ and
whose hom-classes are from $\set$.
% We do not assume that $\mathbb{C}$ is $\lambda$-small for
% the moment.
We write $\pshC$ for the category of (large) presheaves over $\catC$,
\[
\pshC \defeq [\catC^\op, \Set]
\]

\medskip

% Because of the assumption of the existence of $\lambda$, $\pshC$ has additional structure. Let
% \[
% \Term \to \Type
% \]
% be the Hofmann-Streicher universe in $\pshC$ associated to $\lambda$. In particular,
% \[
% \Type(c) \defeq \{  A \co (\catC_{/c})^\op \to \Set_{\lambda} \}
% \]

\begin{defn}
  Following Awodey \cite{awodey2017naturalmodelshomotopytype},
  we say that a map $\tp : \Term \to \Type$ is presentable when
  any fiber of a representable is representable.
  In other words, given any $\Ga \in \catC$ and a map $A : \yo (\Ga) \to \Type$,
  there is some representable $\Ga \cdot A \in \catC$ and maps $\disp{A} : \Ga \cdot A \to \Ga$
  and $\var_{A} : \yo (\Ga \cdot A) \to \Term$ forming a pullback
  % https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXHlvIChcXEdhIFxcY2RvdCBBKSJdLFswLDEsIlxceW8gKFxcR2EpIl0sWzEsMSwiXFxUeXBlIl0sWzEsMCwiXFxUZXJtIl0sWzAsMSwiXFx5byAoXFxkaXNwe0F9KSIsMl0sWzEsMiwiQSIsMl0sWzMsMl0sWzAsMywiXFx2YXJfQSJdXQ==
\[\begin{tikzcd}
	{\yo (\Ga \cdot A)} & \Term \\
	{\yo (\Ga)} & \Type
	\arrow["{\var_A}", from=1-1, to=1-2]
	\arrow["{\yo (\disp{A})}"', from=1-1, to=2-1]
	\arrow["\tp", from=1-2, to=2-2]
	\arrow["A"', from=2-1, to=2-2]
\end{tikzcd}\]
\end{defn}

\medskip

The Natural Model associated to a presentable map $\tp \co \Term \to \Type$ consists of
\begin{itemize}
\item contexts as objects $\Gamma, \Delta, \ldots \in \catC$,
\item a type in context $\yo (\Gamma)$ as a map $A \co \yo(\Gamma) \to \Type$,
\item a term of type $A$ in context $\Gamma$ as a map $a \co \yo(\Gamma) \to \Term$ such that
\[
\xymatrix{
 & \Term \ar[d]^{\tp} \\
\Gamma \ar[r]_-A \ar[ur]^{a} & \Type}
\]
commutes,
\item an operation called ``context extension'' which given a context $\Gamma$ and a type $A \co \yo(\Gamma) \to \Type$ produces a context $\Gamma\cdot A$ which fits into a pullback diagram below.
\[
\xymatrix{
\yo(\Gamma.A) \ar[r] \ar[d] & \Term \ar[d] \\
\yo(\Gamma) \ar[r]_-{A} & \Type}
\]
\end{itemize}

% In the internal type theory of $\pshC$, we write
% \[
%  (\Gamma) \ A \co \Type \qquad  (\Gamma) \ a \co A
% \]
% to mean that $A$ is a type in context $\Gamma$ and that $a$ is an element of type $A$ in context
% $\Gamma$, respectively.




{\bf Remark.}
Sometimes, we first construct a presheaf $X$ over $\Gamma$ and observe that it can be classified by a map into $\Type$. We write
\[
\xymatrix@C=1cm{
X \ar[r] \ar[d]& \Term \ar[d] \\
\yo(\Gamma) \ar[r]_-{\ulcorner X \urcorner} & \Type}
\]
to express this situation, i.e.~$X \cong \yo(\Gamma \cdot \ulcorner X \urcorner)$.

\medskip

\subsection{Pi types}

We will use $\Poly{\tp}$ to denote the polynomial endofunctor
(\cref{polynomial_endofunctor}) associated with our presentable map $\tp$.
Then an interpretation of $\Pi$ types consists of a pullback square
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXFBvbHl7XFx0cH17XFxUZXJtfSJdLFswLDEsIlxcUG9seXtcXHRwfXtcXFR5cGV9Il0sWzEsMCwiXFxUZXJtIl0sWzEsMSwiXFxUeXBlIl0sWzAsMSwiXFxQb2x5e1xcdHB9e1xcdHB9IiwyXSxbMCwyLCJcXGxhIl0sWzIsMywiXFx0cCJdLFsxLDMsIlxcUGkiLDJdLFswLDMsIiIsMSx7InN0eWxlIjp7Im5hbWUiOiJjb3JuZXIifX1dXQ==
\[\begin{tikzcd}
	{\Poly{\tp}{\Term}} & \Term \\
	{\Poly{\tp}{\Type}} & \Type
	\arrow["\la", from=1-1, to=1-2]
	\arrow["{\Poly{\tp}{\tp}}"', from=1-1, to=2-1]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
	\arrow["\tp", from=1-2, to=2-2]
	\arrow["\Pi"', from=2-1, to=2-2]
\end{tikzcd}\]

% TODO: details, interpretation of syntax

\subsection{Sigma types}

An interpretation of $\Si$ types consists of a pullback square
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJRIl0sWzAsMSwiXFxQb2x5e1xcdHB9e1xcVHlwZX0iXSxbMSwwLCJcXFRlcm0iXSxbMSwxLCJcXFR5cGUiXSxbMCwxLCJcXHRwIFxcdHJpYW5nbGVsZWZ0IFxcdHAiLDJdLFswLDIsIlxccGFpciJdLFsyLDMsIlxcdHAiXSxbMSwzLCJcXFNpIiwyXSxbMCwzLCIiLDEseyJzdHlsZSI6eyJuYW1lIjoiY29ybmVyIn19XV0=
\[\begin{tikzcd}
	Q & \Term \\
	{\Poly{\tp}{\Type}} & \Type
	\arrow["\pair", from=1-1, to=1-2]
	\arrow["{\tp \triangleleft \tp}"', from=1-1, to=2-1]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
	\arrow["\tp", from=1-2, to=2-2]
	\arrow["\Si"', from=2-1, to=2-2]
\end{tikzcd}\]

	where the composition of polynomials
	$\tp \triangleleft \tp : Q \to \Poly{\tp}{\Type}$ is given by

% https://q.uiver.app/#q=WzAsMTEsWzMsMCwiXFxQb2x5e1xcdHB9IHtcXFR5cGV9Il0sWzMsMSwiXFxUeXBlIl0sWzIsMCwiUiJdLFsyLDEsIlxcVGVybSJdLFsxLDEsIlxcVGVybSBcXHRpbWVzIFxcVHlwZSJdLFsxLDIsIlxcVHlwZSJdLFsyLDIsIlxcdGVybWluYWwiXSxbMCwxLCJcXFRlcm0gXFx0aW1lcyBcXFRlcm0iXSxbMCwyLCJcXFRlcm0iXSxbMSwwLCJSIl0sWzAsMCwiUSJdLFswLDEsIlxcdHBfKiBcXFRlcm1eKiBcXFR5cGUiXSxbMiwwXSxbMiwzXSxbMywxLCJcXHRwIiwyXSxbMiwxLCIiLDEseyJzdHlsZSI6eyJuYW1lIjoiY29ybmVyIn19XSxbNCwzXSxbNCw1XSxbNSw2XSxbMyw2XSxbNCw2LCIiLDEseyJzdHlsZSI6eyJuYW1lIjoiY29ybmVyIn19XSxbNyw0XSxbNyw4XSxbOCw1LCJcXHRwIiwyXSxbNyw1LCIiLDEseyJzdHlsZSI6eyJuYW1lIjoiY29ybmVyIn19XSxbMTAsN10sWzEwLDQsIiIsMSx7InN0eWxlIjp7Im5hbWUiOiJjb3JuZXIifX1dLFs5LDIsIiIsMSx7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzEwLDldLFs5LDQsIlxcY291bml0IiwxXSxbMTAsMCwiXFx0cCBcXHRyaWFuZ2xlbGVmdCBcXHRwIiwxLHsiY3VydmUiOi0zfV1d
\[\begin{tikzcd}
	Q & R & R & {\Poly{\tp} {\Type}} \\
	{\Term \times \Term} & {\Type \times \Term} & \Term & \Type \\
	\Term & \Type & \terminal
	\arrow[from=1-1, to=1-2]
	\arrow["{\tp \triangleleft \tp}"{description}, bend left, from=1-1, to=1-4]
	\arrow[from=1-1, to=2-1]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
	\arrow[Rightarrow, no head, from=1-2, to=1-3]
	\arrow["\counit"{description}, from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-3, to=2-3]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-3, to=2-4]
	\arrow["{\tp_* \Term^* \Type}", from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-1, to=3-1]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-1, to=3-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-2, to=3-2]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-2, to=3-3]
	\arrow["\tp"', from=2-3, to=2-4]
	\arrow[from=2-3, to=3-3]
	\arrow["\tp"', from=3-1, to=3-2]
	\arrow[from=3-2, to=3-3]
\end{tikzcd}\]
  Here, $\counit : \tp^{*} \tp_{*} \Term^{*} \Type \to \Term^{*} \Type$
  is the counit of the adjunction $\tp^{*} \dashv \tp_{*}$ at $\Term^{*} \Type \in \Pshgrpd / \Term$.
% TODO: details, interpretation of syntax

\subsection{Identity types}

To interpret the formation and introduction rules for identity types
we require a commutative square (this need not be pullback)
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXFRlcm0iXSxbMCwxLCJcXHRwIFxcdGltZXNfXFxUeXBlIFxcdHAiXSxbMSwxLCJcXFR5cGUiXSxbMSwwLCJcXFRlcm0iXSxbMCwxLCJcXGRlIiwyXSxbMSwyLCJcXElkIiwyXSxbMywyLCJcXHRwIl0sWzAsMywiXFxyZWZsIl1d
\[\begin{tikzcd}
	\Term & \Term \\
	{\tp \times_\Type \tp} & \Type
	\arrow["\refl", from=1-1, to=1-2]
	\arrow["\de"', from=1-1, to=2-1]
	\arrow["\tp", from=1-2, to=2-2]
	\arrow["\Id"', from=2-1, to=2-2]
\end{tikzcd}\]
where $\de$ is the diagonal:
% https://q.uiver.app/#q=WzAsNSxbMCwwLCJcXFRlcm0iXSxbMSwxLCJcXHRwIFxcdGltZXNfXFxUeXBlIFxcdHAiXSxbMiwxLCJcXFRlcm0iXSxbMiwyLCJcXFR5cGUiXSxbMSwyLCJcXFRlcm0iXSxbMCwxLCJcXGRlIiwyXSxbMCwyXSxbMSwyXSxbMiwzLCJcXHRwIl0sWzQsMywiXFx0cCIsMl0sWzEsNF0sWzEsMywiIiwyLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV0sWzAsNCwiIiwwLHsibGV2ZWwiOjIsInN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XV0=
\[\begin{tikzcd}
	\Term \\
	& {\tp \times_\Type \tp} & \Term \\
	& \Term & \Type
	\arrow["\de"', from=1-1, to=2-2]
	\arrow[Rightarrow, no head, bend left, from=1-1, to=2-3]
	\arrow[Rightarrow, no head, bend right, from=1-1, to=3-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-2, to=3-2]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-2, to=3-3]
	\arrow["\tp", from=2-3, to=3-3]
	\arrow["\tp"', from=3-2, to=3-3]
\end{tikzcd}\]

Then let $I$ be the pullback.
We get a comparison map $\rho$
% https://q.uiver.app/#q=WzAsNSxbMCwwLCJcXFRlcm0iXSxbMSwyLCJcXHRwIFxcdGltZXNfXFxUeXBlIFxcdHAiXSxbMiwyLCJcXFR5cGUiXSxbMiwxLCJcXFRlcm0iXSxbMSwxLCJJIl0sWzAsMSwiXFxkZSIsMix7ImN1cnZlIjoyfV0sWzEsMiwiXFxJZCIsMl0sWzMsMiwiXFx0cCJdLFswLDMsIlxccmVmbCIsMCx7ImN1cnZlIjotM31dLFs0LDFdLFs0LDNdLFs0LDIsIiIsMix7InN0eWxlIjp7Im5hbWUiOiJjb3JuZXIifX1dLFswLDQsIlxccmhvIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
\[\begin{tikzcd}
	\Term \\
	& I & \Term \\
	& {\tp \times_\Type \tp} & \Type
	\arrow["\rho"{description}, dashed, from=1-1, to=2-2]
	\arrow["\refl", bend left, from=1-1, to=2-3]
	\arrow["\de", bend right, from=1-1, to=3-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-2, to=3-2]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-2, to=3-3]
	\arrow["\tp", from=2-3, to=3-3]
	\arrow["\Id"', from=3-2, to=3-3]
\end{tikzcd}\]

Then view $\rho : \tp \to q$ as a map in the slice over $\Type$.
% https://q.uiver.app/#q=WzAsNSxbMCwwLCJcXFRlcm0iXSxbMSwyLCJcXHRwIFxcdGltZXNfXFxUeXBlIFxcdHAiXSxbMSwxLCJJIl0sWzEsMywiXFxUZXJtIl0sWzEsNCwiXFxUeXBlIl0sWzAsMSwiXFxkZSIsMSx7ImN1cnZlIjoxfV0sWzIsMV0sWzAsMiwiXFxyaG8iLDEseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbMSwzLCJcXGZzdCIsMl0sWzMsNF0sWzAsNCwiXFx0cCIsMix7ImN1cnZlIjozfV0sWzAsMywiIiwyLHsiY3VydmUiOjIsImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzIsNCwicSIsMCx7ImN1cnZlIjotNX1dXQ==
\[\begin{tikzcd}
	\Term \\
	& I \\
	& {\tp \times_\Type \tp} \\
	& \Term \\
	& \Type
	\arrow["\rho"{description}, dashed, from=1-1, to=2-2]
	\arrow["\de"{description}, bend right = 10, from=1-1, to=3-2]
	\arrow[bend right = 25, Rightarrow, no head, from=1-1, to=4-2]
	\arrow["\tp"', bend right = 40, from=1-1, to=5-2]
	\arrow[from=2-2, to=3-2]
	\arrow["q", bend left = 50, from=2-2, to=5-2]
	\arrow["\fst"', from=3-2, to=4-2]
	\arrow[from=4-2, to=5-2]
\end{tikzcd}\]

Now (by \cref{polynomial_on_slice_map})
applying $\Poly{-} : (\pshC / \Type) ^{\op} \to [\pshC, \pshC]$ to $\rho : \tp \to q$
gives us a naturality square (this also need not be pullback).
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXFBvbHl7cX0ge1xcVGVybX0iXSxbMCwxLCJcXFBvbHl7cX0ge1xcVHlwZX0iXSxbMSwxLCJcXFBvbHl7XFx0cH0ge1xcVGVybX0iXSxbMSwwLCJcXFBvbHl7XFx0cH0ge1xcVGVybX0iXSxbMCwxLCJcXFBvbHl7cX0ge1xcdHB9IiwyXSxbMSwyLCJcXFN0YXJ7XFxyaG99X3tcXFR5cGV9IiwyXSxbMywyLCJcXFBvbHl7XFx0cH0ge1xcdHB9Il0sWzAsMywiXFxTdGFye1xccmhvfV97XFxUZXJtfSJdXQ==
\[\begin{tikzcd}
	{\Poly{q} {\Term}} & {\Poly{\tp} {\Term}} \\
	{\Poly{q} {\Type}} & {\Poly{\tp} {\Term}}
	\arrow["{\Star{\rho}_{\Term}}", from=1-1, to=1-2]
	\arrow["{\Poly{q} {\tp}}"', from=1-1, to=2-1]
	\arrow["{\Poly{\tp} {\tp}}", from=1-2, to=2-2]
	\arrow["{\Star{\rho}_{\Type}}"', from=2-1, to=2-2]
\end{tikzcd}\]
Taking the pullback $T$ and the comparison map $\ep$ we have
% https://q.uiver.app/#q=WzAsNSxbMCwwLCJcXFBvbHl7cX0ge1xcVGVybX0iXSxbMSwyLCJcXFBvbHl7cX0ge1xcVHlwZX0iXSxbMiwyLCJcXFBvbHl7XFx0cH0ge1xcVGVybX0iXSxbMiwxLCJcXFBvbHl7XFx0cH0ge1xcVGVybX0iXSxbMSwxLCJUIl0sWzAsMSwiXFxQb2x5e3F9IHtcXHRwfSIsMix7ImN1cnZlIjoyfV0sWzEsMiwiXFxTdGFye1xccmhvfV97XFxUeXBlfSIsMl0sWzMsMiwiXFxQb2x5e1xcdHB9IHtcXHRwfSJdLFswLDMsIlxcU3RhcntcXHJob31fe1xcVGVybX0iLDAseyJjdXJ2ZSI6LTN9XSxbNCwxXSxbNCwzXSxbNCwyLCIiLDIseyJzdHlsZSI6eyJuYW1lIjoiY29ybmVyIn19XSxbMCw0LCJcXGVwIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
\[\begin{tikzcd}
	{\Poly{q} {\Term}} \\
	& T & {\Poly{\tp} {\Term}} \\
	& {\Poly{q} {\Type}} & {\Poly{\tp} {\Term}}
	\arrow["\ep"{description}, dashed, from=1-1, to=2-2]
	\arrow["{\Star{\rho}_{\Term}}", bend left, from=1-1, to=2-3]
	\arrow["{\Poly{q} {\tp}}"', bend right, from=1-1, to=3-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-2, to=3-2]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-2, to=3-3]
	\arrow["{\Poly{\tp} {\tp}}", from=2-3, to=3-3]
	\arrow["{\Star{\rho}_{\Type}}"', from=3-2, to=3-3]
\end{tikzcd}\]
Finally, we require a section $J : T \to \Poly{q}{\Term}$ of $\ep$,
to interpret the identity elimination rule.

\subsection{A type of small types}

We now wish to formulate a condition that allows us to have a type of small types, written $\U$, not just {\em judgement} expressing that something is a type. With this notation, the judgements that we would like to derive is
\[
 \U \co \Type \qquad
 \begin{prooftree}
 a \co \U
 \justifies
 \El(a) \co \Type
 \end{prooftree}
\]

% (For example, a sufficient and natural condition for this seems to be
% that we now have two inaccessible cardinals $\kappa$, with $\kappa < \lambda$.
% Then $\kappa$ would be the size of $\U = \Set_{< \kappa}$
% and $\lambda$ would be the size of $\set = \Set_{< \lambda}$.)

In the Natural Model, a universe $\U$ is postulated by a map
\[
\pi \co \E \to \U
\]

In the Natural Model:
\begin{itemize}
\item There is a pullback diagram of the form
\begin{equation}
\xymatrix{
\U \ar[r] \ar[d] & \Term \ar[d] \\
1 \ar[r]_-{\ulcorner \U \urcorner } & \Type }
\end{equation}
\item There is an inclusion of $\U$ into $\Type$
\[
\El \co \U \rightarrowtail \Type
\]
\item $\pi : \E \to \U$ is obtained as pullback of $\tp$; There is a pullback diagram
\begin{equation}\label{diag:universe-pullback}
\xymatrix{
E \ar@{>->}[r] \ar[d] & \Term \ar[d] \\
\U \ar@{>->}[r]_-{\El} & \Type }
\end{equation}
 \end{itemize}

With the notation above, we get
\[
\xymatrix{
\yo (\Gamma.\El(a)) \ar[r] \ar[d] & \E \ar[r] \ar[d] & \Term \ar[d] \\
\yo (\Gamma) \ar[r]_a  \ar@/_2pc/[rr]_-{A} & \U \ar[r]_{\El} & \Type}
\]
Both squares above are pullback squares.

\subsection{Stablity of the universe under type formers}

Take the pullback diagram \cref{diag:universe-pullback}.
That is a morphism in the category of polynomials.
We have a cartesian natural transformation $P_\pi \to P_{\tp}$ induced by the pullback \cref{diag:universe-pullback}. This cartesian natural transformation induces cube diagram below;
all of the squares in the cube are pullback squares.

\[
\begin{tikzcd}[row sep=scriptsize, column sep=scriptsize]
& P_\pi E \arrow[dd] \arrow[rr] \arrow[ld] & & P_\tp E \arrow[dl]  \arrow[dd]  \\
P_\pi \Term \arrow[rr, crossing over] \arrow[dd] && P_\tp \Term \arrow[dd, crossing over] \\
& P_\pi \U \arrow[rr] \arrow[ld] &&  P_\tp U \arrow[dl] \\
P_\pi \Type \arrow[rr] && P_\tp \Type \\
\end{tikzcd}
\]
We will use the compositions $\Poly{\pi}{U} \to \Poly{\tp}{\Type}$ and
$\Poly{\pi}{E} \to \Poly{\tp}{\Term}$ below.

\medskip

\begin{defn}
  We will say that universe $\U$ is closed under formation of $\Pi$-types when we have some map
	$\Pi_{U} : \Poly{\pi}{\U} \to \U$ making the following square commute
\begin{equation}\label{diag:universe-pullback-3}
\xymatrix{
\Poly{\pi}{\U} \ar@{->}[r] \ar@{-->}[d]_{\Pi_\U} & \Poly{\tp}{\Type} \ar[d]^{\Pi_\Type} \\
\U \ar@{->}[r]_-{\El} & \Type }
\end{equation}
	Note that this is merely propositional when $\El$ is a monomorphism.
\end{defn}

\medskip

From the universal property of pullbacks we can define $\la_{U} \Poly{\pi}{\E} \to \E$.
% https://q.uiver.app/#q=WzAsOCxbMCwzLCJQX1xcdHAgXFxUeXBlIl0sWzIsMywiXFxUeXBlIl0sWzMsMiwiVSJdLFszLDAsIkUiXSxbMiwxLCJcXFRlcm0iXSxbMCwxLCJQX1xcdHAgXFxUZXJtIl0sWzEsMiwiUF9cXHBpIFUiXSxbMSwwLCJQX1xcdHAgRSJdLFswLDEsIlxcUGkiLDJdLFsyLDEsIlxcRWwiLDFdLFszLDJdLFszLDRdLFs0LDEsIiIsMSx7ImxhYmVsX3Bvc2l0aW9uIjozMH1dLFs1LDBdLFs3LDMsIlxcbGFfVSIsMSx7ImxhYmVsX3Bvc2l0aW9uIjo3MCwic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzcsNV0sWzcsNl0sWzYsMF0sWzUsNCwiXFxsYSIsMSx7ImxhYmVsX3Bvc2l0aW9uIjo3MH1dLFs2LDIsIlxcUGlfVSIsMSx7ImxhYmVsX3Bvc2l0aW9uIjo3MH1dXQ==
\[\begin{tikzcd}
	& {P_\tp E} && E \\
	{P_\tp \Term} && \Term \\
	& {P_\pi U} && U \\
	{P_\tp \Type} && \Type
	\arrow["{\la_U}"{description, pos=0.7}, dashed, from=1-2, to=1-4]
	\arrow[from=1-2, to=2-1]
	\arrow[from=1-2, to=3-2]
	\arrow[from=1-4, to=2-3]
	\arrow[from=1-4, to=3-4]
	\arrow["\la"{description, pos=0.7}, from=2-1, to=2-3]
	\arrow[from=2-1, to=4-1]
	\arrow["{\Pi_U}"{description, pos=0.7}, from=3-2, to=3-4]
	\arrow[from=2-3, to=4-3, crossing over]
	\arrow[from=3-2, to=4-1]
	\arrow["\El"{description}, from=3-4, to=4-3]
	\arrow["\Pi"', from=4-1, to=4-3]
\end{tikzcd}\]
The top and bottom squares in the cube above are not pullbacks,
but we know three of the vertical faces are pullback squares.
By the pullback pasting lemma it follows that the back square
involving $\Pi_ U$ and $\lambda_U$ is also a pullback square.
This concludes the construction of $\Pi$ type former for the universe $\U$.
% The only data we needed to supply for the definition of $\Pi_U$ was a lift of $\Pi \colon P_\tp \Type \to \Type$ to $U$.

\medskip

\begin{defn}
  We will say that universe $\U$ is closed under formation of $\Si$-types when we have some map
	$\Si_{U} : \Poly{\pi}{\U} \to \U$ making the following square commute
\begin{equation}\label{diag:universe-pullback-3}
\xymatrix{
\Poly{\pi}{\U} \ar@{->}[r] \ar@{-->}[d]_{\Si_\U} & \Poly{\tp}{\Type} \ar[d]^{\Pi_\Type} \\
\U \ar@{->}[r]_-{\El} & \Type }
\end{equation}

	Again, this is merely propositional when $\El$ is a monomorphism.
\end{defn}

Now consider the polynomial composition $\pi \triangleleft \pi$.
% https://q.uiver.app/#q=WzAsMjAsWzQsMywiXFxQb2x5e1xcdHB9IHtcXFR5cGV9Il0sWzQsNCwiXFxUeXBlIl0sWzMsMywiUiJdLFszLDQsIlxcVGVybSJdLFsyLDQsIlxcVGVybSBcXHRpbWVzIFxcVHlwZSJdLFsyLDUsIlxcVHlwZSJdLFsxLDQsIlxcVGVybSBcXHRpbWVzIFxcVGVybSJdLFsxLDUsIlxcVGVybSJdLFsyLDMsIlIiXSxbMSwzLCJRIl0sWzMsMSwiVSJdLFsyLDEsIkUiXSxbMSwxLCJFIFxcdGltZXMgVSJdLFswLDEsIkUgXFx0aW1lcyBFIl0sWzAsMiwiRSJdLFsxLDIsIlUiXSxbMSwwLCJSX1UiXSxbMCwwLCJRX1UiXSxbMiwwLCJSX1UiXSxbMywwLCJcXFBvbHl7XFxwaX17VX0iXSxbMCwxLCJcXHRwXyogXFxUZXJtXiogXFxUeXBlIl0sWzIsMF0sWzIsM10sWzMsMSwiXFx0cCIsMV0sWzIsMSwiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV0sWzQsM10sWzQsNV0sWzYsNF0sWzYsN10sWzcsNSwiXFx0cCIsMl0sWzYsNSwiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV0sWzksNl0sWzksNCwiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV0sWzgsMiwiIiwxLHsibGV2ZWwiOjIsInN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbOSw4XSxbOCw0LCJcXGNvdW5pdCIsMV0sWzEwLDFdLFsxMSwzXSxbMTEsMTAsIlxccGkiLDFdLFsxMiw0XSxbMTIsMTFdLFsxMyw2XSxbMTQsMTVdLFsxMywxNF0sWzEyLDE1XSxbMTMsMTJdLFsxMywxNSwiIiwwLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV0sWzE2LDEyLCJcXGNvdW5pdCIsMV0sWzE3LDEzXSxbMTcsMTZdLFsxNywxMiwiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV0sWzE2LDE4LCIiLDEseyJsZXZlbCI6Miwic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFsxOCwxOV0sWzE5LDEwXSxbMTgsMTFdLFsxOCwxMCwiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV0sWzE1LDVdLFsxNCw3XSxbMTcsOV0sWzE2LDhdLFsxOCwyXSxbMTksMF0sWzE3LDE5LCJcXHBpIFxcdHJpYW5nbGVsZWZ0IFxccGkiLDEseyJjdXJ2ZSI6LTR9XV0=
\[\begin{tikzcd}
	{Q_U} & {R_U} & {R_U} & {\Poly{\pi}{U}} \\
	{E \times E} & {E \times U} & E & U \\
	E & U \\
	& Q & R & R & {\Poly{\tp} {\Type}} \\
	& {\Term \times \Term} & {\Term \times \Type} & \Term & \Type \\
	& \Term & \Type
	\arrow[from=1-1, to=1-2]
	\arrow["{\pi \triangleleft \pi}"{description}, bend left, from=1-1, to=1-4]
	\arrow[from=1-1, to=2-1]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
	\arrow[Rightarrow, no head, from=1-2, to=1-3]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-3, to=2-3]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-3, to=2-4]
	\arrow[from=1-4, to=2-4]
	\arrow[from=1-4, to=4-5]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-1, to=3-1]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-1, to=3-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-2, to=3-2]
	\arrow[from=2-2, to=5-3, dashed]
	\arrow["\pi"{description}, from=2-3, to=2-4]
	\arrow[from=2-3, to=5-4]
	\arrow[from=2-4, to=5-5]
	\arrow[from=3-1, to=3-2]
	\arrow[from=3-1, to=6-2]
	\arrow[from=3-2, to=6-3]
	\arrow[from=4-2, to=5-2]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=4-2, to=5-3]
	\arrow[from=4-3, to=5-3]
	\arrow[from=4-4, to=5-4]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=4-4, to=5-5]
	\arrow["{\tp_* \Term^* \Type}", from=4-5, to=5-5]
	\arrow[from=5-2, to=6-2]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=5-2, to=6-3]
	\arrow[from=5-3, to=5-4]
	\arrow[from=5-3, to=6-3]
	\arrow["\tp"{description}, from=5-4, to=5-5]
	\arrow["\tp"', from=6-2, to=6-3]
	\arrow[from=1-1, dashed, to=4-2, crossing over]
	\arrow[from=1-2, dashed, to=4-3, crossing over]
	\arrow[from=1-3, to=4-4, dashed, crossing over]
	\arrow[from=2-1, dashed, to=5-2, crossing over]
	\arrow[from=4-2, to=4-3, crossing over]
	\arrow[Rightarrow, no head, from=4-3, to=4-4, crossing over]
	\arrow[from=4-4, to=4-5, crossing over]
	\arrow[from=5-2, to=5-3, crossing over]
\end{tikzcd}\]

Using pullback pasting, we see that the horizontal faces of the left cuboid
and the right cube are all pullbacks. Hence we have a pullback
% https://q.uiver.app/#q=WzAsNixbMiwxLCJcXFBvbHl7XFx0cH0ge1xcVHlwZX0iXSxbMSwxLCJSIl0sWzAsMSwiUSJdLFswLDAsIlFfVSJdLFsxLDAsIlJfVSJdLFsyLDAsIlxcUG9seXtcXHBpfXtVfSJdLFsxLDBdLFs0LDVdLFszLDJdLFs0LDFdLFs1LDBdLFszLDUsIlxccGkgXFx0cmlhbmdsZWxlZnQgXFxwaSIsMSx7ImN1cnZlIjotNH1dLFszLDRdLFsyLDFdLFsyLDAsIlxcdHAgXFx0cmlhbmdsZWxlZnQgXFx0cCIsMSx7ImN1cnZlIjozfV0sWzQsMCwiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV0sWzMsMSwiIiwxLHsic3R5bGUiOnsibmFtZSI6ImNvcm5lciJ9fV1d
\[\begin{tikzcd}
	{Q_U} & {R_U} & {\Poly{\pi}{U}} \\
	Q & R & {\Poly{\tp} {\Type}}
	\arrow[from=1-1, to=1-2]
	\arrow["{\pi \triangleleft \pi}"{description}, bend left, from=1-1, to=1-3]
	\arrow[from=1-1, to=2-1]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-2, to=2-2]
	\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-2, to=2-3]
	\arrow[from=1-3, to=2-3]
	\arrow[from=2-1, to=2-2]
	\arrow["{\tp \triangleleft \tp}"{description}, bend right, from=2-1, to=2-3]
	\arrow[from=2-2, to=2-3]
\end{tikzcd}\]

which is the left side of the following cube
% https://q.uiver.app/#q=WzAsOCxbMCwzLCJQX1xcdHAgXFxUeXBlIl0sWzIsMywiXFxUeXBlIl0sWzMsMiwiVSJdLFszLDAsIkUiXSxbMiwxLCJcXFRlcm0iXSxbMCwxLCJRIl0sWzEsMiwiUF9cXHBpIFUiXSxbMSwwLCJRX1UiXSxbMCwxLCJcXFNpIiwyXSxbMiwxLCJcXEVsIiwxXSxbMywyXSxbMyw0XSxbNCwxLCIiLDEseyJsYWJlbF9wb3NpdGlvbiI6MzB9XSxbNSwwLCJcXHRwIFxcdHJpYW5nbGVsZWZ0IFxcdHAiLDJdLFs3LDMsIlxccGFpcl9VIiwxLHsibGFiZWxfcG9zaXRpb24iOjcwLCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNyw1XSxbNyw2LCJcXHBpIFxcdHJpYW5nbGVsZWZ0IFxccGkiLDIseyJsYWJlbF9wb3NpdGlvbiI6ODB9XSxbNiwwXSxbNSw0LCJcXHBhaXIiLDEseyJsYWJlbF9wb3NpdGlvbiI6ODB9XSxbNiwyLCJcXFNpX1UiLDEseyJsYWJlbF9wb3NpdGlvbiI6NzB9XV0=
\[\begin{tikzcd}
	& {Q_U} && E \\
	Q && \Term \\
	& {P_\pi U} && U \\
	{P_\tp \Type} && \Type
	\arrow["{\pair_U}"{description, pos=0.7}, dashed, from=1-2, to=1-4]
	\arrow[from=1-2, to=2-1]
	\arrow["{\pi \triangleleft \pi}"'{pos=0.8}, from=1-2, to=3-2]
	\arrow[from=1-4, to=2-3]
	\arrow[from=1-4, to=3-4]
	\arrow["\pair"{description, pos=0.8}, from=2-1, to=2-3]
	\arrow["{\tp \triangleleft \tp}"', from=2-1, to=4-1]
	\arrow[from=2-3, to=4-3]
	\arrow["{\Si_U}"{description, pos=0.7}, from=3-2, to=3-4]
	\arrow[from=3-2, to=4-1]
	\arrow["\El"{description}, from=3-4, to=4-3]
	\arrow["\Si"', from=4-1, to=4-3]
\end{tikzcd}\]
As was the case for $\Pi$, pullback pasting along the vertical faces
shows that the back face involving $\Si_ U$ and $\pair_U$ is also a pullback square.
This concludes the construction of $\Si$ type former for the universe $\U$.




% \subsection{The Universe in Embedded Type Theory (HoTT0) and the relationship to the Natural Model}
